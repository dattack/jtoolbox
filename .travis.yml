#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
language: java
jdk:
- openjdk8
dist: bionic
notifications:
  email:
    recipients:
    - dev@dattack.com
    on_success: always
    on_failure: always
cache:
  directories:
  - "~/.m2/repository"
env:
  global:
  - secure: FwnzZg5mivGRhCBEiquh+c3yoEVV4lm1+zaqIOzUGG4N1lbMR6NfCm+3TZpmQKFjtoSk2ZwGKS5BuSH6gLQR+RPWCvPCD9FPx13EL07AS4CRGq7sNCwn7HNeMS/BMThGjtJV9BaLzKn+ONLi3BakBJZQXz+d+S8PsJCDONU4EF37ah8FoXs+xmHYm+AWVU49XemyVDBbBsc6yNrP77nMd8oVvEucSQ+CY8Nwmm0iZlvjOc8fbpF11/85f9Kp11eozWK/lHvqYvLeTwYbr9ViTz8lUh8UT5c1AbE1OQM1UkBVBCpKezpIufpcwrj3hnGeolXvujrn1VAu4MSiR6Wg4YfZ7X9g0Hp2nVXvTDEfTYETAlE2JPP75z2IZ8oIhCOabWsts2Z32UHq0hxedzNm27o9kUTglubZ7CvjpuyzhF+fnVAbzpA6TTL5J+ECvWTDVgmDP95OGbxIcAvA+KQrF8LvLz9ieqvSYLjjSYZvog1ntqYLiuZ9Brijmdr1MmH4215BUJMXAlSOs5tQHedW57pizQoZZ++DbcXnOt0exAfIYvBkEL760yn3EgUb4yAWgA2Hl/IuIhXxZKOsXoHjp123tBkx+JJHVLbXmEio9WIzqMimjSYIlrHIu92OpU2wHtzTsBz9GJhKH6/QvhxUNOBbg9e01iYuolOFjfnma1c=
  - secure: lEF8OKxFfAHRrQ14y3J+z1Nd2bJ08e4IOXyc5PxLD3DKqrBnVPDhIMfXkruTUr0Gfzv2Fay6JXOqTscxXTN4MJ0cS1EurtYEt7kNkB9aqZzj963WdQFdbL4sE/JfUwUvJ4L4y69VjwD0UCxWwo+Y1RYyqexPwpc2FMddBA7fcAM+N5yGdNpPUHiqho7GCcvv+US0Q7thP9zODH8oh4MxG3HqlYdNwD4XZHfwNVUrtX2Th+4P8DWL/5VeCNjF0tUIVXrl7K05DlOXmOFNBTwspxmWpnCacveKw6IxR11eOhZfYsGVIrpWLBCMxl0hqocITzc4KGXAwu6jA6zitrk99mu/6qW7InHoQWfHdLaBcoe2BZCGEmKojCeP9iUdq92iN6j9Q7tK+murLL02pfQdbQSNloNMwG1KC9UsFcrATl9f+1ANAuYQs1XmXegmDseZcygdw14zN861DqsVbZO21IAW/x3nrJjZZJ+ZlNn11Qp3O3pxZ2f3fWHfmF4ZrBoli41i62iSTAhMUDi44v9+vG5OldpYgetABtkmoUyUN8ryARi/xPUbXxlQ+WgDI8vdG9Cbv8zoA22KP8unMnGhFfkMymYMooLhPVKLX2s3wp5A4AC8tCgDOjUT3zL4izv3paDHQ4zYu8+LfAkcNUPLMDe17OKw9eVhiyhTJtKBe4M=
  - secure: IQ7+3rYHejQda5/mSOT9LXOpa9FnKsTrkHUBAs4LPMgUpvClois9diVJVGFl7JpE4a3eLTia/umvlMZfplYXxrk2quxRSPmuUqo3feGwA2yntGth9rPkZVYIL+gZvr2vxQ08kDNEyat3/2WW/Vrj55kjCGjkUYdfa7hOp63dNEaKcrO9v3YaI+BkXyJnPMI9nrKmTTDxHqjGdT4TlYDryq9+BpmRxWoA0iMiE7BJ60js0hQMUCWbmUD0YO+Rw6+SGczD+bvHedVNpAms5RCee2EHpk3TclOJnoU1RRwvPZjLXXbPmJgck6QUmm/6LZEzunO3vMYWKK7Wt+VREoC6pz0kjlwR/Q3fjCLWdKqUJu/TdjaZSh7iN4BsKn9+8xq+frg8oA4JkS1STxtXD0lNMt4HNBG0U3sL4DLt+6mcROuNif2B7I+HVKb7jxT7v0cEVFkAAUoiCfPFhLPoHTB8cSXb6+xblZl1xzaY7HvKnmDPfoMmJSkX+4UQawmnMk+p6dNU3ALnpLlqLTKY8oFa1COftq+xxkLAXNctNs88cecMmfJJl8Y3K31MeYZvJLTjQs+fqmCox1spt3KMY8FkevQp+kG7M4oC6diydddPYB5CGIkh0Jcm2zibHSHpiUgqqJmjuUC8EJhsa1NPIoxBXlHel2BKHdFnJdCsiHgBW7g=
  - secure: S4UCQefPrRre37mT5JLUhMmS+8/5ce3xj+DB2KPSW/i6VpLibxct6YxZ79HgtwWm2XQPXBaYS9/webZshSlcJpXshsCkEaLOYKSDOA5GtFY2glQI4P+zkDFA7QyFrUSkHadjn47sjHpNuhZAo7UaRXHSvjuR3/kGM+WnUhGnfnsu4LD4RA2esZAbYxzPVOClgYo7e7aLcOPy2okVlzWxqxltgrBLPa2sf5pv+2Gky/rNj8IOATfGU6mN727h9vl7pQrzdIUnL3+L8NzT3JovCjspJEvySmhjFdEzvS23Re+Vj+L4pJ1RDHc+uUR8YnRf4oPYK5ZYwUXxF8snkmG4u5j80l+4pfJOUwVXIYoF7dtlZxAcxjUxSdl5YNPrtl2SshuY/irP4AhuxExJBaCONS+FJx0lmzHfPx+U32DjYCz1agfAPP9X1RIU9cZWMeMropufv/8hb6WcS5CjnADfkaNjkyGX+6PWaMm/aYVD8aFDSS10kkJDJE+/jVOI/lXitSP7azZPQexCP1kBWE3jdHBIYDbTHJxXVbgu4ER/02brrMsCOec5MfpeEtS7i+dlBhVYQG48uX2HPSUqFsMJ4V0/rY9WZje9prxzA5AhX9ke+8aV+dzaCNCg+W9AyJIX+l3/U3JUQCCaJZ9qcWSIsnDQOgjdYuQJ1LPwq7TToUQ=
install: mvn -P !build-extras install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn -P !build-extras test -B
before_install:
- openssl aes-256-cbc -K $encrypted_711e5bbf5b76_key -iv $encrypted_711e5bbf5b76_iv
  -in .travis/codesigning.asc.enc -out .travis/codesigning.asc -d
- gpg --batch --fast-import .travis/codesigning.asc
deploy:
  skip_cleanup: true
  provider: script
  script: mvn -P sign,build-extras -s .travis/settings.xml deploy -DskipTests
  on:
    all_branches: true
    condition: "$TRAVIS_BRANCH =~ ^(master|develop)$"
